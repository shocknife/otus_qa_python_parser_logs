# otus_qa_python_parser_logs
Скрипт предназначен для анализа лог-файлов веб-сервера, содержащих информацию о запросах, поступающих на сервер. 

Он выполняет следующие задачи:

1. Скрипт анализирует строки лога веб-сервера, извлекая из них информацию о запросах, таких как:

– IP-адрес клиента
– Время запроса
– HTTP-метод ('GET', 'POST', 'PUT', 'DELETE', 'OPTIONS', 'HEAD')
– Статусы ответа
– Размер ответа
– Источник запроса
– HTTP-заголовок
– Длительность обработки запроса на сервере

2. Скрипт собирает следующие статистические данные:

– Общее количество запросов в лог-файле.
– Количество запросов по каждому HTTP-методу (например, GET, POST, PUT, DELETE, OPTIONS, HEAD).
– Топ 3 IP-адреса с наибольшим количеством запросов.
– Топ 3 самых долгих запросов с указанием:
    HTTP-метода
    URL
    IP-адреса клиента
    Длительности запроса
    Даты и времени запроса

3. Скрипт может быть запущен с указанием либо пути к конкретному файлу лога, либо пути к директории, в которой содержатся лог-файлы. 
В случае указания директории скрипт будет анализировать все файлы с расширением .log в указанной папке и её подкаталогах.

4. Все собранные данные сохраняются в формат JSON. 
Для каждого анализа лог-файла создается отдельный JSON файл, который содержит информацию о:

– Топ 3 IP-адреса с наибольшим количеством запросов.
– Топ 3 самых долгих запросов.
–Статистика по HTTP-методам.
– Общее количество запросов.

Эти файлы сохраняются в папке 'statistics', которая создается в текущей рабочей директории. 
Внутри папки 'statistics' создаются подкаталоги, названия которых представляют собой временные метки (например, 2024-12-21_14-30-05), чтобы отслеживать данные по времени.

5. В процессе работы создаются только итоговые файлы с результатами.
Промежуточные данные (например, данные о запросах в процессе анализа) не сохраняются.

Скрипт позволяет обрабатывать как один файл лога, так и все логи в указанной директории, что делает его удобным для использования в различных сценариях.

6. Пример запуска скрипта
При запуске скрипт попросит указать путь к файлу или директории с логами:

Введите путь к файлу или директории с логами:
Если указать путь к файлу (например, /path/to/logs/access.log), то скрипт проанализирует только этот файл. 
Если указать директорию (например, /path/to/logs/), то скрипт проанализирует все файлы с расширением .log в этой директории.